"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[6034],{484465:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(967312),a=i(174646),r=i(538645);function s(){let{isAuthenticated:e}=(0,a.B)(),t=(0,r.ml)(),{checkExperiment:i}=(0,n.r)();return{mWebCloseupRedesignEnabled:e&&t&&i("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:i("mweb_closeup_redesign").group}}},928362:(e,t,i)=>{i.d(t,{Dv:()=>r,Ml:()=>s,Oc:()=>n,mv:()=>a});let n=16,a=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},s=120},824834:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(967312);function a(e){let{expName:t,anyEnabled:i,group:a}=function({experimentsClient:e,skipActivation:t}){let{checkExperiment:i}=e,n=i("web_masonry_v2",{dangerouslySkipActivation:t});return n.group?{expName:"web_masonry_v2",...n}:{expName:"",anyEnabled:!1,group:""}}({experimentsClient:(0,n.r)(),skipActivation:e?.skipActivation??!1});return{expName:t,anyEnabled:i,group:a,isMeasureAllEnabled:"enabled_measure_all"===a||"enabled_measure_all_impression_fix"===a,isImpressionFixEnabled:"control_impression_fix"===a||"enabled_impression_fix"===a||"enabled_measure_all_impression_fix"===a}}},586033:(e,t,i)=>{i.d(t,{Fw:()=>_,ZP:()=>w});var n=i(667294),a=i(30694),r=i(18644),s=i(992114);async function o(e,t,i,n,o,p,l,d,m){let u,{appType:c,osType:y}=p||{},T="",I="";if(["Pin","pinImpressions"].includes(e)&&t&&(n||d||m)){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:c,osType:y}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting"))return void(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:c,osType:y}});T=(0,a.Z)(i,[n,d,m],!1,o,l);try{I=new URL(window.location.href).hostname}catch(e){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(I&&"www.pinterest.com"!==I)document.createElement("img").setAttribute("attributionsrc",T),(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:c,osType:y,hostname:I}});else if(!(u=await window.fetch(T,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:c,osType:y}})}catch(e){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,r.Z)(e,"name"),message:(0,r.Z)(e,"message"),appType:c,osType:y,hostname:I,responseStatus:u&&u.status}})}}else(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:c,osType:y}})}var p=i(576183),l=i(19963),d=i(824834),m=i(94970),u=i(174646),c=i(538645),y=i(422908),T=i(813509),I=i(438596);let v={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"editorialBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}},g=({events:e,startTime:t,endTime:i})=>e?.filter(e=>e>=t&&e<=i)||[];function w({carouselData:e,closeupImpressionType:t,closeupNavigationType:i,componentType:a,contextLogData:r,clientTrackingParams:w,duploShouldTrackPinEvents:_,elementType:P,impressionAuxFields:S,inImpressionExp:x,impressionType:E,impressionsFramework:f,isPaused:b,loggingId:D,objectIdStr:A,slotIndex:N,trackCarousel:h,viewData:k,viewParameter:O,viewType:F,isPromoted:R,storyPinProductEventData:Z}){let{logContextEvent:H}=(0,l.u)(),{logMrcVideoAdEventOnPlay:L}=(0,y.H)(),{userAgent:{browserName:M}}=(0,u.B)(),{logStat:U}=(0,T.Yg)(),C=f||m.Z,j=(0,n.useRef)(null),B=(0,n.useRef)(e=>{});B.current=n=>{let s=v[E],l=s.idType,d={clientTrackingParams:w,endTime:n.endTime,[l]:D,slotIndex:N,time:n.startTime,renderDuration:n.endTime-n.startTime,type:t,...S,forcedExit:"removed"===n.forcedExit?0:void 0};if("Pin"===E){let e=[],t=n.visibleEvents||new Map,i=n.hiddenEvents||new Map;if((S&&S.isPromoted||R)&&[1,50,80,2,102].forEach(a=>{let r=g({events:t.get(a),startTime:n.startTime,endTime:n.endTime}),s=g({events:i.get(a),startTime:n.startTime,endTime:n.endTime});r.forEach(t=>{e.push({type:a,time:t||0,visible:!0})}),s.forEach(t=>{e.push({type:a,time:t||0,visible:!1})})}),d={...d,pinCellWidth:n.pinCellWidth||0,pinCellHeight:n.pinCellHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,t)=>e.time-t.time)},(0,p.i7)(M)&&S&&S.isPromoted){let{attributionSourceId:e,isPromoted:t,link:i,campaignId:n,araAuxData:a,advertiserId:r,domain:s,adDestinationUrl:p}=S;o(E,t??null,e??null,i??null,n??null,a??null,r??null,s??null,p??null)}}let m={component:a,object_id_str:A,view_type:F,view_data:k||{},view_parameter:O};if(h)e&&h&&H({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...d,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...m,aux_data:{...r}});else{let e={clientTrackingParams:w,event_type:s.eventType,...m,element:P,event_data:{[s.impressionType]:"Story"===E?d:[d],...Z?{storyPinProductEventData:Z}:{}},aux_data:{closeup_navigation_type:i,...r}};H(e),L(e)}_&&U("log_pin_impression")};let{expName:W,group:V}=(0,d.Z)({skipActivation:!0}),G=(0,c.ZP)(),q=(0,I.Zv)(),{isAuthenticated:Q}=(0,u.B)(),X=(0,n.useCallback)(()=>{let e=!1;try{let{current:t}=j;if(t instanceof HTMLElement&&(!R||t.getElementsByTagName("img").length>0)){let i=C.start(t);i.onExitViewport(B.current).setDebugId(D||"unknown"),_&&i.onEnterViewport(()=>{U("log_pin_impression_track_enter_viewport")}),e=!0,V&&(0,s.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:G,experimentName:W,group:V,handlerId:q,isAuthenticated:Q,slotIndex:N??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}_&&U("log_pin_impression_track",{didStartTracking:e})},[j.current]);return(0,n.useEffect)(()=>(x&&!C.inExperiment&&C.setExperimentStatus(!0),b||X(),()=>{let{current:e}=j;e instanceof HTMLElement&&(!R||e.getElementsByTagName("img").length>0)&&C.stop(e)}),[b,X]),j}let _=({children:e,...t})=>e({impressionTrackerRef:w(t)})},237238:(e,t,i)=>{i.d(t,{C:()=>r,V:()=>s});var n=i(667294);let a=(0,n.createContext)(!1),r=a,s=()=>(0,n.useContext)(a)},409741:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),a=i(545007),r=i(489384),s=i(967312),o=i(174646),p=i(541105);let l=()=>{let e=(0,a.I0)(),{checkExperiment:t}=(0,s.r)(),i=(0,o.B)(),l=(0,r.Z)(),d=(0,n.useMemo)(()=>{let e=i?.countryFromHostName||i?.country||"",t=i?.userAgent?.raw||("undefined"!=typeof navigator?navigator.userAgent:"");return{country:e,userAgent:t,referrer:i?.referrerFromHeader||i?.referrerFromCookie||"",unauthID:i?.unauthId||"",region:(0,p.y1)(e),channel:(0,p.qo)(l),iab:(0,p.A4)(t)}},[i,l]);return(0,n.useCallback)(i=>{"function"==typeof i?e(i({checkExperiment:t,sessionContext:d})):e({...i,payload:{..."payload"in i?i.payload:{},checkExperiment:t,sessionContext:d}})},[e,t,d])}},489123:(e,t,i)=>{i.d(t,{X:()=>a,Z:()=>r});var n=i(667294);let a=120;function r(e,t=0,i=a){let[s,o]=(0,n.useState)(e?"active":"inactive");return(0,n.useEffect)(()=>{if(e)if(t){let e=setTimeout(()=>o("active"),t);return()=>{clearTimeout(e)}}else o("active");else{let e=setTimeout(()=>o("inactive"),i);return()=>{clearTimeout(e)}}},[e]),s}},824014:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(20256),a=i(489123),r=i(785893);function s({children:e,fadeInDuration:t=0,fadeOutDuration:i=a.X,visibility:s}){return"none"!==s&&e?(0,r.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{hidden:{opacity:0,transition:i?`opacity ${i}ms ease`:void 0},visible:{opacity:1,transition:t?`opacity ${t}ms ease`:void 0}}[s]},children:e}):null}},765575:(e,t,i)=>{i.d(t,{Cy:()=>l,HE:()=>d,JE:()=>c,Mv:()=>r,Y4:()=>m,dL:()=>a,fS:()=>u,fv:()=>o,qS:()=>p,u:()=>y,uc:()=>s});var n=i(586033);let a=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},r=e=>{let t=(0,n.ZP)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},s=e=>{let t=(0,n.ZP)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},o=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:t})},p=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},l=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},d=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},m=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},u=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},c=e=>{let t=(0,n.ZP)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})},y=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"EditorialBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},824573:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(20256),a=i(785893);function r({children:e,additionalStyles:t={}}){return(0,a.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},"data-test-id":"contentLayer",left:!0,position:"absolute",right:!0,top:!0,children:e})}},670380:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e,t){e&&e.includes("~0")&&(e=e.replace("~0",""));let i=t?.includes("~0")?t:`${t||""}~0`;return e&&e.replace("undefined","")?e:i.replace("undefined","")}},509692:(e,t,i)=>{i.d(t,{B:()=>l,m:()=>p});var n=i(667294),a=i(825332),r=i(218291),s=i(785893);let{Provider:o,getMaybe:p}=(0,r.Z)("NotifDetailRepinContext");function l({children:e}){let[t,i]=(0,n.useState)(Object.freeze({})),[r,p]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),m=(0,a.TH)(),u=(0,n.useMemo)(()=>{let e=/^\/pin\/\d+\/repin\/?$/,n=/^\/news_hub\/\d+\/?$/;return{isSaved:e=>!!t[e],save:e=>{l&&i(t=>({...t,[e]:!0}))},reset:()=>{let t=window?.location.pathname||"";n.test(t)||e.test(t)||(i(Object.freeze({})),p(!1),d(!1))},isInNewsHubQuickSaveExpAndNewsHubPage:()=>{let e=m.pathname||"";return n.test(e)&&r},inNewsHubQuickSaveExp:r,setInNotifDetailPage:d,setInNewsHubQuickSaveExp:p}},[t,r,l,m]);return(0,s.jsx)(o,{value:u,children:e})}},481369:(e,t,i)=>{i.d(t,{L:()=>o,q:()=>p});var n=i(578373),a=i(488267),r=i(312702),s=i(875202);function o(e){return t=>{let{inSelectAll:i,selectedPinIds:o,orbacSubjectId:p,source:{boardId:l,sectionId:d}}=e;return t((0,a.xQ)(l)),t((0,r.EX)({feedId:d||l,feedType:d?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,inverseSelection:i,itemIds:o,itemType:"pin"})),n.Z.create(i?"BulkEditSelectAllResource":"BulkEditResource",{board_id:l,section_id:d,pin_ids:o,orbac_subject_id:p}).callDelete()}}let p=({pinId:e,boardId:t,boardSectionId:i,clientTrackingParams:a})=>(r,s)=>{let o=n.Z.create("PinResource",{id:e,client_tracking_params:a}).callDelete(),{session:{userId:p}}=s();return r({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:i,userId:p}}),o}},348393:(e,t,i)=>{i.d(t,{Cp:()=>o,FK:()=>s,H5:()=>w,MI:()=>T,O0:()=>y,QZ:()=>r,RO:()=>u,W:()=>v,WF:()=>l,Wq:()=>m,a5:()=>d,e0:()=>c,e2:()=>a,iW:()=>g,n1:()=>n,rm:()=>p,xu:()=>I});let n=()=>({type:"DISMISS_UNAUTH_SAVE"}),a=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),r=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),s=()=>({type:"HIDE_NAV_FOOTER"}),o=()=>({type:"SHOW_NAV_FOOTER"}),p=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),l=()=>({type:"SHOW_REPIN_ANIMATION"}),d=()=>({type:"HIDE_REPIN_ANIMATION"}),m=()=>({type:"SHOW_REPIN_CONFETTI_ANIMATION"}),u=()=>({type:"HIDE_REPIN_CONFETTI_ANIMATION"}),c=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),y=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),T=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),I=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),v=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),g=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},w=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e})},765573:(e,t,i)=>{i.d(t,{A:()=>n});let n=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:i,hasRichMetadataRecipe:n})=>{if(e)return t?144:i?141:n?145:139;return 140}},526675:(e,t,i)=>{i.d(t,{Q:()=>p,n:()=>o});var n=i(667294),a=i(218291),r=i(785893);let{Provider:s,getMaybe:o}=(0,a.Z)("RepinContext");function p({children:e}){let[t,i]=(0,n.useState)(Object.freeze({})),a=(0,n.useMemo)(()=>({getSavedPinId:e=>t[e],isSaved:e=>!!t[e],save:(e,t)=>i(i=>({...i,[e]:t})),unsave:e=>i(t=>({...t,[e]:null}))}),[t]);return(0,r.jsx)(s,{value:a,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/6034-2178df4281130ea5.mjs.map