"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[93227],{784843:(e,l,t)=>{t.r(l),t.d(l,{default:()=>i});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};o.hash="35b139c2e951baaa6624b30e45f913ce";let i=o},736180:(e,l,t)=>{var o;t.r(l),t.d(l,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:o,storageKey:null}],type:"Pin",abstractKey:null};i.hash="cabaa35ed7d59dee006897bf3ef32e3d";let a=i},676620:(e,l,t)=>{t.d(l,{Z:()=>a});var o=t(80421),i=t(878280);let a=()=>{let e=(0,o.g)(),l=(0,i.l)();return t=>{let{mobileOptions:o,desktopOptions:i,reason:a,attributionLabel:n,pinId:r,savePinImageUrl:s}=t;e?e.showDesktopSignupModal({signupFlow:i?.modalType==="login"?{type:"login"}:{type:"signup"},reason:a,attributionLabel:n,savePinId:r,savePinImageUrl:s,...i?.modalOptions}):l&&l.showMobileSignupModal({reason:a,attributionLabel:n,headingType:o?.headingType??"none",pinId:r,savePinImageUrl:s})}}},833741:(e,l,t)=>{t.d(l,{Z:()=>F});var o,i=t(667294);t(167912);var a=t(20256),n=t(219308),r=t(297934),s=t(78039),d=t(513277),c=t(704942),u=t(676620),h=t(112800),_=t(677316),g=t(339908),p=t(409741),f=t(153984),m=t(538645),y=t(755090),x=t(412584),w=t(683829),b=t(945011),v=t(647137),j=t(654892),P=t(785893);let k=({children:e,pulsar:l,testId:t})=>l.show?(0,P.jsx)(a.xu,{"data-test-id":t,position:"relative",children:(0,P.jsxs)(a.iP,{onTap:l.onClick,tapStyle:"none",children:[(0,P.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,P.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,P.jsx)(a.o3,{})})]})}):(0,P.jsx)(a.xu,{"data-test-id":t,children:e}),I=(void 0!==o||(o=t(736180)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==o.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function F({auxData:e,disabled:l,disableLog:t,followEventType:o,id:F,inline:S,invertColors:A,isFollowed:z,isIdeaPin:C,isLegoEnabled:T,isSecondaryButton:Z,isUserFollowButton:E,isUserMe:U,onFollow:D,onUnfollow:G,pinKey:L,shouldUseLegoColors:R,showPulsar:H,size:K,textType:M="FollowFollowing",unfollowEventType:O,viewParameter:W,viewType:B,clientTrackingParams:N}){let J,q=(0,d.Z)(),Q=(0,m.HG)(),{showToast:V}=(0,g.dI)(),X=(0,_.Z)(),$=(0,n.Z)(),Y=(0,u.Z)(),{checkExperiment:ee}=(0,c.Z)(),el=(0,w.Z)(),et=(0,r.Z)(),eo=et&&et.isAuth,{unauthFollowUserId:ei,setUnauthFollowUserId:ea}=(0,j.A)(),en=(0,b.mN)()(F),er=(0,p.Z)(),[es,ed]=(0,i.useState)(z),ec=en&&{imageMediumUrl:en.image_medium_url,username:en.username},eu=(0,s.Z)(I,L),eh=eu?.linkDomain,e_=eu?.nativeCreator,eg=eu?.originPinner,ep=eu?.pinner;J=e_||(eh?eh.officialUser:eg||ep);let ef=ec??J;(0,y.Z)(()=>{!Q&&eo&&ei&&F&&ei===F&&D(F)});let em=el({fn:()=>{if(eo)es?(G(F),ed(!1),t||$({event_type:O,view_type:B,view_parameter:W,object_id_str:F,aux_data:e,clientTrackingParams:N})):(D(F),ed(!0),E&&V(({hideToast:e})=>{let l=ef?.username?`/${ef.username}/`:"";return(0,P.jsx)(v.Z,{handleHide:e,href:l,imageUrl:ef?.imageMediumUrl||"",text:(0,P.jsx)(a.xv,{lineClamp:4,children:q.bt("Segui! I Pin che crea saranno mostrati nel tuo feed!", "Following! Their created Pins will show up in your home feed!", "followButton.follow.informationalToastText", undefined, true)}),userId:F})}),t||$({event_type:o,view_type:B,view_parameter:W,object_id_str:F,aux_data:e,clientTrackingParams:N}));else{if((0,h.NC)(es?"press_profile_unfollow":"press_profile_follow"),X({action:"click",item:es?"unfollow-button":"follow-button"}),ee("migration_upsell_manager_redux").anyEnabled)if(Q){let e=ee("pcons_dweb_contextual_follow_modal").anyEnabled;er((0,f.b9)(!!C,e))}else{let e=ee("pcons_mweb_contextual_follow_modal").anyEnabled;er((0,f.Jw)(!!C,e))}else Y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:C?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:Q&&ee("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!Q&&ee("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});Q||ea(F??""),(0,h.NC)("clickthrough")}},modalHeader:(0,x.N4)({i18n:q,toFollow:!es})}),ey=!es&&!!H,ex=()=>{if(U)return q.bt("Sei tu!", "That's you!", "Follow button is disabled because this is you", undefined, true);if("AddRemove"===M)return es?q.bt("Rimuovi", "Remove", "unfollowButton.removeText", undefined, true):q.bt("Aggiungi", "Add", "followButton.addText", undefined, true);let e="FollowUnfollow"===M?q.bt("Smetti di seguire", "Unfollow", "unfollowButton.unfollowText", undefined, true):q.bt("Segui giÃ ", "Following", "Follow button label - followed state", undefined, true);return es?e:q.bt("Segui", "Follow", "Follow button label - unfollowed state", undefined, true)};return(0,P.jsx)(k,{pulsar:ey?{show:!0,onClick:em}:{show:!1},testId:U||es?"board-unfollow-button":"board-follow-button",children:(0,P.jsx)(a.zx,{accessibilityLabel:ex(),color:R||"AddRemove"===M||!T&&Z||A?"gray":"red",disabled:U||l,fullWidth:S,onClick:ey?void 0:({event:l})=>{l.preventDefault(),l.stopPropagation(),t||$({event_type:101,component:13672,element:11951,object_id_str:F,view_type:B,view_parameter:W,aux_data:e,clientTrackingParams:N}),em()},selected:es||!1,size:K,text:ex()})})}},899076:(e,l,t)=>{t.d(l,{Z:()=>i});var o=t(945011);function i(){let e=(0,o.dM)();return Object.keys(e).reduce((l,t)=>{let o=e[t];return l[o.username]=o,l},{})}},275269:(e,l,t)=>{t.d(l,{Z:()=>x});var o,i=t(667294);t(244311);var a=t(20256),n=t(78039),r=t(233846),s=t(928362),d=t(174646),c=t(538645),u=t(824014),h=t(29519),_=t(706915),g=t(785893);function p({backgroundColor:e="darkGray",iconColor:l="inverse",iconSize:t,privacy:o,size:i=20}){let n=(0,r.ZP)();return(0,g.jsx)(a.xu,{alignItems:"center",color:e,direction:"column",display:"flex",height:i,justifyContent:"center",rounding:"circle",width:i,children:(0,g.jsx)(a.JO,{accessibilityLabel:n.bt("Icona bacheca segreta", "Secret board icon", "Icon indicating that a board is secret", undefined, true),color:l,icon:"secret"===o?"lock":"security",size:t??i/2})})}var f=t(824573);let m=(void 0!==o||(o=t(784843)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==o.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),y="100%";function x(e){let l=(0,r.ZP)(),{canEdit:t,containerBackgroundColor:o="white",coverPhoto:x,coverPinKey:w,fullSize:b,hideSecretBoardIcon:v,images:j,isActive:P,isHomePageBoards:k,isProtected:I,isSecret:F,layout:S,onEditClick:A,renderAsImage:z,showSensitivityScreen:C}=e,T=(0,c.HG)(),{isRTL:Z,isAuthenticated:E}=(0,d.B)(),U=(0,n.Z)(m,w),D=(0,i.useRef)(null),G=j[0],L=!x&&j[0]?.name||l.bt("Immagine di copertina", "Cover image", "DrawerImageGroup", undefined, true),R=[,,].fill(0),H=new a.Ry(1),K="square"===S?h.M0:h.z9,M="square"===S?h.FP:h.FC,O=G?.url?(0,g.jsx)(a.Ee,{alt:L,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:G.url}):(0,g.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"}),W=C?{filter:"blur(20px)"}:{};return(0,g.jsxs)(a.zd,{height:b?"100%":void 0,rounding:4,width:"100%",children:[(0,g.jsxs)(a.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,g.jsx)(a.sg,{span:8,children:(0,g.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:W},height:b?"100%":void 0,position:"relative",children:(0,g.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:y}},overflow:"hidden",width:"100%",children:(0,g.jsxs)(a.xu,{ref:D,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:k?"#FFDFE9":o,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(I||F)&&!v&&(0,g.jsx)(a.xu,{left:!Z,margin:2,position:"absolute",right:Z,top:!0,zIndex:H,children:(0,g.jsx)(p,{backgroundColor:"default",iconColor:"default",privacy:F?"secret":"protected",size:T&&E?32:24})}),x?.url?(0,g.jsx)(a.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(_.Z,{customCover:x.isCustom,height:M,imgPos:U?function(e){let{crop:l,size:t}=e||{};if(Array.isArray(l)&&Array.isArray(t))return{x:l[0]||0,y:l[1]||0,width:t[0]||0,height:t[1]||0}}(U):x.position||{width:0,height:0,x:0,y:0},imgUrl:U?.imageUrl??(x.url||""),renderAsImage:z,width:Math.floor(K/3*2)})}):O]})})})}),(0,g.jsx)(a.sg,{span:4,children:(0,g.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:W},height:"100%",children:[t&&(0,g.jsx)(a.xu,{bottom:!0,left:Z,margin:2,opacity:+!!P,position:"absolute",right:!Z,zIndex:H,children:(0,g.jsx)(a.iP,{onTap:({event:e})=>A?.(e),children:(0,g.jsx)(a.hU,{accessibilityLabel:l.bt("Modifica", "Edit", "DrawerImageGroup.edit", undefined, true),bgColor:"white",icon:"edit",iconColor:"darkGray",size:"sm",tabIndex:-1})})}),R.map((e,l)=>{let t=x?j[l]:j[l+1];return(0,g.jsx)(a.xu,{height:b?"50%":void 0,position:"relative",children:(0,g.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:y}},overflow:"hidden",width:"100%",children:(0,g.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:k?"#FFDFE9":o,borderStyle:"solid",borderWidth:0===l?1:"0 1px 1px 1px",borderRadius:0===l?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:t?.url?(0,g.jsx)(a.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(a.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:t.url})}):(0,g.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"})})})},l)})]})}),C&&(0,g.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,g.jsx)(a.X6,{align:"center",color:"light",size:"400",children:l.bt("Questa bacheca potrebbe presentare contenuti sensibili", "This board may contain sensitive content", "drawerImageGroup.sensitivityScreen.heading", undefined, true)})})]}),(0,g.jsx)(u.Z,{visibility:P?"visible":"none",children:(0,g.jsx)(f.Z,{additionalStyles:{backgroundColor:s.Dv.LEGO_WASH}})})]})}},683829:(e,l,t)=>{t.d(l,{Z:()=>r});var o=t(233846),i=t(538645),a=t(316866),n=t(412584);let r=()=>{let e=(0,o.ZP)(),l=(0,i.HG)(),{viewer:t,loginForMore:r,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:d}=(0,a.m)();return"LIMITED_LOGIN"===t.type?({modalHeader:t,nextLocation:o})=>i=>{let a=null;i&&(i.nativeEvent&&i.nativeEvent instanceof Event?a=i:i.event&&(a=i.event)),a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()),r?.setVisible(!0),s?.setText(t||(l?(0,n.hr)(e):(0,n.Wh)(e))),o&&d?.setRoute(o)}:({fn:e})=>e}},647137:(e,l,t)=>{t.d(l,{Z:()=>c});var o=t(20256),i=t(231333),a=t(513277),n=t(113474),r=t(538645),s=t(785893);function d({ideaPinImages:e}){let l=e.map((e,l)=>(0,s.jsx)(o.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:l}},height:48,overflow:"hidden",rounding:2,width:28,children:e?.url&&(0,s.jsx)(o.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e.url})},l));return(0,s.jsx)(o.kC,{justifyContent:"center",children:(0,s.jsx)(o.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:l})})}function c({handleHide:e,text:l,userId:t,href:c,imageUrl:u}){let h=(0,a.Z)(),_=(0,r.HG)(),g=(0,n.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:t}}),p=Array.isArray(l)?l.join(" "):l;if(0===(g.data||[]).length)return(0,s.jsx)(i.Z,{duration:5e3,href:c,onHide:e,text:p,thumbnail:u?{image:(0,s.jsx)(o.Ee,{alt:h.bt("Immagine di chi hai seguito", "Image of who you followed", "userFollowingToast.thumbnail.userImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}:void 0});let f=(g.data||[]).slice(0,3).map(e=>e.images?.[_?"236x":"170x"]),m=(0,s.jsx)(d,{ideaPinImages:f});return(0,s.jsx)(i.Z,{_dangerouslySetThumbnail:m,duration:5e3,href:c,onHide:e,text:p})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/93227.it-654e3032dea1754c.mjs.map