"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[82952],{547362:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return"object"==typeof e&&null!==e&&"url"in e&&"media"in e}},363402:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(19963),s=n(718369);let l=e=>{let t=(0,i.useRef)(!1),{logContextEvent:n}=(0,o.u)(),{viewType:l,viewParameter:r}=(0,s.SU)();(0,i.useEffect)(()=>{Object.entries(e).length>0&&!t.current&&l&&(n({event_type:13,view_type:l,view_parameter:r,...e}),t.current=!0)})}},676620:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(80421),o=n(878280);let s=()=>{let e=(0,i.g)(),t=(0,o.l)();return n=>{let{mobileOptions:i,desktopOptions:o,reason:s,attributionLabel:l,pinId:r,savePinImageUrl:a}=n;e?e.showDesktopSignupModal({signupFlow:o?.modalType==="login"?{type:"login"}:{type:"signup"},reason:s,attributionLabel:l,savePinId:r,savePinImageUrl:a,...o?.modalOptions}):t&&t.showMobileSignupModal({reason:s,attributionLabel:l,headingType:i?.headingType??"none",pinId:r,savePinImageUrl:a})}}},444695:(e,t,n)=>{n.r(t),n.d(t,{Header:()=>q,default:()=>Q});var i=n(667294),o=n(825332),s=n(20256),l=n(138266),r=n(203728),a=n(547362),c=n(643063),d=n(896798),h=n(916868),u=n(233846),_=n(890360),p=n(263815),x=n(967312),f=n(174646),m=n(677316),b=n(857147),g=n(520063),y=n(947158),P=n(774289),j=n(19963),T=n(290896),A=n(479872),C=n(785893);let S=({isSelected:e,onClick:t})=>{let n=(0,u.ZP)(),{logContextEvent:o}=(0,j.u)(),r=(0,P.Z)(!0),a=(0,i.useRef)(null),[c,d]=(0,i.useState)(!1),h=e=>{o({event_type:101,component:13988,element:e}),d(!1)};return(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(s.xu,{ref:a,"data-test-id":"create-tab",children:(0,C.jsx)(T.Z,{contextData:A.$L.createPin,iconEnd:r?void 0:"arrow-down",isSelected:e,navigateTo:r?{kind:"Legacy",url:(0,l.Z)(r)}:null,onClick:()=>{t?.(),r?o({event_type:101,component:13988,element:10949}):d(e=>!e)},role:r?"link":"button",text:n.bt("Crea", "Create", "header.section.createTab", undefined, true)})}),c&&(0,C.jsxs)(s.Lt,{anchor:a.current,id:"header-create-dropdown",idealDirection:"down",onDismiss:()=>{d(!1)},zIndex:new s.Ry(1e3),children:[(0,C.jsx)(s.Lt.Link,{dataTestId:"create-idea-pin",href:"/idea-pin-builder/",onClick:()=>h(10949),option:{value:"ideaPin",label:n.bt("Crea Pin per Idea Ad", "Create Pin for Idea ad", "header.headerCreateMenu.ideaPinBtn", undefined, true)}}),(0,C.jsx)(s.Lt.Link,{dataTestId:"create-static-pin",href:"/pin-builder/",onClick:()=>h(10643),option:{value:"pin",label:n.bt("Crea Pin", "Create Pin", "header.headerCreateMenu.pinBtn", undefined, true)}})]})]})};var v=n(822500),w=n(522816),B=n(346340),k=n(679878),E=n(422378),R=n(344500),I=n(992114);function O({tabs:e}){let t=(0,u.ZP)(),[n,o]=(0,i.useState)(!1),{hovered:l,onMouseEnter:r,onMouseLeave:a}=(0,E.Z)(),c=(0,i.useRef)(null),d=e.find(e=>e.isSelected);d||(d=e.find(e=>"home"===e.key));let h=()=>o(!1);return(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(s.xu,{ref:c,color:n?"dark":l?"secondary":void 0,"data-test-id":"HeaderCollapsedTabs",display:"inlineBlock",flex:"none",height:48,marginStart:2,minWidth:60,onMouseEnter:r,onMouseLeave:a,rounding:6,children:(0,C.jsx)(s.iP,{fullHeight:!0,onTap:()=>{o(!n),d?.incrementKey&&(0,I.nP)(d.incrementKey)},rounding:6,children:(0,C.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"14px 14px",whiteSpace:"nowrap"}},display:"flex",flex:"none",justifyContent:"center",children:[(0,C.jsx)(s.xv,{align:"center",color:n?"inverse":"default",overflow:"normal",weight:"bold",children:d?.text}),(0,C.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"1px"}},marginStart:2,children:(0,C.jsx)(s.JO,{accessibilityLabel:t.bt("Apri menu scheda", "Open tab menu", "header.tabMenu.downArrow", undefined, true),color:n?"inverse":"default",icon:"arrow-down",size:12})})]})})}),n&&(0,C.jsx)(s.xu,{"data-test-id":"HeaderCollapsedTabsMenu",children:(0,C.jsx)(s.Lt,{anchor:c.current,disableMobileUI:!0,id:"HeaderCollapsedTabsMenu",onDismiss:h,zIndex:new s.H3([new s.Ry(R.fe)]),children:e.map(({isSelected:e,key:n,text:i,url:o})=>(0,C.jsx)(s.Lt.Link,{href:o,onClick:h,option:{value:n,label:i},children:(0,C.jsxs)(s.kC,{alignItems:"center",width:"100%",children:[(0,C.jsx)(s.kC.Item,{flex:"grow",children:(0,C.jsx)(s.xv,{weight:"bold",children:i})}),(0,C.jsx)(s.JO,{accessibilityLabel:t.bt("Opzione selezionata", "Selected option", "flyoutMenu.selectedOptionCheckmark", undefined, true),color:"default",icon:e?"check":void 0,inline:!0})]})},n))})})]})}var L=n(381262),Z=n(390247),z=n(113474);function N({children:e,isSelected:t}){let{isLoaded:n,data:i}=(0,z.Z)({name:"ApiResource",options:{url:"/v3/feeds/homefeed/badge/"},noCache:!0});return e(!!(n&&i)&&!t)}function H({anchor:e}){let t=(0,u.ZP)();return(0,C.jsx)(s.pl,{anchor:e,idealDirection:"down",message:t.bt("Nel feed vedrai idee relative ai tuoi nuovi interessi", "Your home feed will show ideas for your new interests", "Flyout message on Pinterest logo on Header", undefined, true),onDismiss:()=>{}})}var U=n(791343),D=n(536045),M=n(363402),F=n(965319);function G({isSelected:e,onClick:t}){let n=(0,u.ZP)();(0,M.Z)({component:A.$L.today.component,element:A.$L.today.element});let i=n.bt("Esplora", "Explore", "header.section.exploreTab", undefined, true);return(0,C.jsx)(T.Z,{contextData:A.$L.today,dataTestId:"today-tab",isSelected:e,navigateTo:{kind:"Legacy",url:(0,F.tG)()},onClick:t,showNotifBadge:!0,text:i})}var K=n(857893),V=n(375335),Y=n(420925),X=n(630929);function J(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let{hidden:W,visibilityChange:$}=(0,c.s)();class q extends i.Component{constructor(e){super(e),J(this,"iconRoutes",(0,v.Z)({username:this.props.viewer.username,isIdeaPinRenamingEnabled:this.props.isIdeaPinRenamingEnabled})),J(this,"logoButtonRef",(0,i.createRef)()),J(this,"profileRef",(0,i.createRef)()),J(this,"getCollapsedTabList",()=>[{key:"home",text:this.props.i18n.bt("Home page", "Home", "header.homeButton.section", undefined, true),url:"/",incrementKey:A.ye.HOME_BUTTON_COLLAPSED_TAB},...this.props.isTodayTabEligible?[{key:"explore",text:this.props.i18n.bt("Esplora", "Explore", "header.section.exploreTab", undefined, true),url:"/today/",incrementKey:A.ye.TODAY_TAB_COLLAPSED_TAB}]:[],{key:"create",text:this.props.i18n.bt("Crea", "Create", "header.section.createTab", undefined, true),url:(0,l.Z)(this.props.isIdeaPinRenamingEnabled),incrementKey:A.ye.CREATE_TAB_COLLAPSED_TAB}]),J(this,"handleDAUPing",()=>{document[W]||(0,r.Z)()}),J(this,"fetchUserAccounts",()=>{let{userAccountsRetrieved:e,viewer:t}=this.props;t.isAuth&&(0,p.dD)(t).then(t=>{e(t)})}),this.state={selected:(0,w.Z)({pathname:e.location.pathname,iconRoutes:this.iconRoutes}),showLeftTabs:!0}}componentDidMount(){let{headerButtonContext:e}=this.props;this.fetchUserAccounts(),(0,i.startTransition)(()=>{e.setLogoButtonRef(this.logoButtonRef.current)}),$&&window.addEventListener($,this.handleDAUPing,!1)}componentDidUpdate(e){let{location:t}=this.props;if(e.location.pathname!==t.pathname){let e=(0,w.Z)({pathname:t.pathname,iconRoutes:this.iconRoutes});this.setState({selected:e})}}componentWillUnmount(){$&&window.removeEventListener($,this.handleDAUPing)}renderSearchBox(){let{navigate:e,shrinkSearchBox:t,searchIconOnly:n}=this.props;return e?(0,C.jsx)(y.Z,{handleIconOnlyChange:e=>this.setState({showLeftTabs:n&&e}),iconOnly:n,widthType:t?"shrink":void 0}):null}renderButtons(){let{currentSite:e,headerButtonContext:t,isVerticalNavEnabled:n,shrinkSearchBox:o,onMouseDownHomefeedPrefetch:l,onNavigateToHomefeedMousedownPrefetch:r,profileNavigatesToProfile:a}=this.props,{selected:c,showLeftTabs:d}=this.state;return n?(0,C.jsxs)(s.xu,{alignItems:"center",column:12,"data-test-id":"button-container",display:"flex",height:56,children:[this.renderSearchBox(),(0,C.jsx)(s.kC.Item,{children:(0,C.jsx)(U.Z,{children:(0,C.jsx)(B.Z,{idealTooltipDirection:"down",isSelected:a?"profile"===c:"profile"===c||"boards"===c,onClick:()=>(0,I.nP)(A.P8.AVATAR),tooltipZIndex:X.BO})})}),(0,C.jsx)(s.kC.Item,{children:(0,C.jsx)(h.Z,{currentSite:e,iconLabel:this.props.i18n.bt("Account", "Accounts", "header.accountOptionsButton.accountsOnly", undefined, true),onPanelChange:e=>{e&&(0,I.nP)(A.P8.ACCOUNT_SWITCHER)},showMoreOptions:!1})})]}):(0,C.jsxs)(s.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,C.jsxs)(s.xu,{children:[(0,C.jsx)(s.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,C.jsx)(Z.Z,{onClick:()=>{(0,I.nP)(A.ye.PINTEREST_LOGO),r?.()},onMouseDown:l},"HomeButton")}),t.isTooltipOnLogoButtonShown&&(0,C.jsx)(H,{anchor:this.logoButtonRef.current})]}),!o&&d&&(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(N,{isSelected:"home"===c,children:e=>(0,C.jsx)(T.Z,{dataTestId:"home-tab",isSelected:"home"===c,navigateTo:{kind:"Legacy",url:"/"},onClick:()=>(0,I.nP)(A.ye.HOME_TAB),onMouseDown:l,onTap:r,showNotifBadge:e,text:this.props.i18n.bt("Home page", "Home", "header.homeButton.section", undefined, true)})}),this.props.isTodayTabEligible&&(0,C.jsx)(G,{isSelected:"today"===c,onClick:()=>(0,I.nP)(A.ye.TODAY_TAB)}),(0,C.jsx)(S,{isSelected:"create"===c,onClick:()=>(0,I.nP)(A.ye.CREATE_TAB)})]}),o&&d&&(0,C.jsx)(O,{tabs:this.getCollapsedTabList().map(e=>({isSelected:c===e.key,...e}))}),this.renderSearchBox(),(0,C.jsxs)(s.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:[(0,C.jsx)(D.F,{value:{currentSite:e},children:(0,C.jsx)(V.Z,{onConversationsClick:()=>(0,I.nP)(A.ye.CONVERSATIONS),onNewsClick:()=>(0,I.nP)(A.ye.NEWS)})}),(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(s.xu,{ref:this.profileRef,children:(0,C.jsx)(U.Z,{children:(0,C.jsx)(B.Z,{isSelected:"profile"===c,onClick:()=>(0,I.nP)(A.ye.AVATAR)})})}),(0,C.jsx)(h.Z,{currentSite:e,onClick:()=>(0,I.nP)(A.ye.ACCOUNT_OPTIONS)})]})]})]})}renderHomeButtonAndAccountSwitcher(){let{currentSite:e,headerButtonContext:t}=this.props,{selected:n}=this.state;return(0,C.jsxs)(s.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,C.jsxs)(s.xu,{children:[(0,C.jsx)(s.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,C.jsx)(Z.Z,{onClick:()=>(0,I.nP)(A.ye.EXTERNAL_BUTTON_QUERY_PINTEREST_LOGO)},"HomeButton")}),t.isTooltipOnLogoButtonShown&&(0,C.jsx)(H,{anchor:this.logoButtonRef.current})]}),(0,C.jsx)(s.xu,{flex:"grow"}),(0,C.jsx)(s.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(s.xu,{ref:this.profileRef,children:(0,C.jsx)(U.Z,{children:(0,C.jsx)(B.Z,{isSelected:"profile"===n,onClick:()=>(0,I.nP)(A.ye.EXTERNAL_BUTTON_QUERY_AVATAR)})})}),(0,C.jsx)(h.Z,{currentSite:e,onClick:()=>(0,I.nP)(A.ye.EXTERNAL_BUTTON_QUERY_ACCOUNT_OPTIONS)})]})})]})}renderBusinessSsoPageHeader(){let{i18n:e}=this.props;return(0,C.jsxs)(s.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,C.jsx)(s.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,C.jsx)(Z.Z,{onClick:()=>(0,I.nP)(A.ye.SSO_PAGE_PINTEREST_LOGO)},"HomeButton")}),(0,C.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{letterSpacing:"-1px"}},children:(0,C.jsx)(s.X6,{accessibilityLevel:2,color:"default",overflow:"normal",size:"400",children:e.bt("Aziende", "Business", "authHeader.logoText.business", undefined, true)})})]})}renderUnsubscribePageHeader(){let{navigate:e,i18n:t,trackInteraction:n}=this.props;return(0,C.jsxs)(s.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,C.jsx)(s.xu,{children:(0,C.jsx)(Z.Z,{onClick:()=>(0,I.nP)(A.ye.UNSUBSCRIBE_PAGE_PINTEREST_LOGO)},"HomeButton")}),(0,C.jsx)(s.xu,{flex:"grow"}),(0,C.jsx)(s.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:(0,C.jsx)(s.iP,{onTap:()=>{e("/"),n({action:"click",item:"back-to-pinterest",within:"unsubscribe-page"})},rounding:2,tapStyle:"compress",children:(0,C.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,C.jsx)(s.xv,{inline:!0,size:"300",weight:"bold",children:t.bt("Torna a Pinterest", "Back to Pinterest", "header.backToPinterest.section", undefined, true)}),(0,C.jsx)(B.Z,{isSelected:!1,noNavigation:!0,onClick:()=>(0,I.nP)(A.ye.UNSUBSCRIBE_PAGE_AVATAR)})]})})})]})}renderHeaderContent(){let{location:e,viewer:t}=this.props;if((0,_.RU)(e)){let t=(0,b.mB)(e.search);if((0,a.Z)(t))return this.renderHomeButtonAndAccountSwitcher()}else if((0,_.OK)(e)&&t.isLimitedLogin)return this.renderUnsubscribePageHeader();else if((0,_.nU)(e))return this.renderBusinessSsoPageHeader();return this.renderButtons()}render(){let{headerShadowContext:{isScrolled:e,subheaderShadow:t},nags:n}=this.props;return(0,C.jsxs)(s.xu,{color:"default",column:12,"data-test-id":"header-background",children:[n,(0,C.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...null===t&&e?R.Rz:{}}},children:(0,C.jsx)(s.kC,{direction:"column",height:R.cI,justifyContent:"start",width:"100%",children:(0,C.jsx)(s.xu,{alignItems:"center",column:12,display:"flex",flex:"grow",paddingX:4,children:this.renderHeaderContent()})})})]})}}function Q(e){let t=(0,u.ZP)(),n=(0,o.s0)(),i=(0,o.TH)(),s=(0,k.C)(),l=(0,L.bj)(),r=(0,f.B)(),{checkExperiment:a}=(0,x.r)(),{userAccountsRetrieved:c}=(0,g.N)(),h=(0,m.Z)(),{enabled:_}=(0,Y.Z)(),p=(0,A.wF)(),{shrinkSearchBox:b,searchIconOnly:y}=(0,K.Z)();a("social_experience_holdout_2025_h1"),a("social_experience_holdout_2025_h2"),a("ce_project_habit_holdout_2025_h1"),a("inclusive_holdout_2025"),(0,d.Ow)(1000109);let{group:P=""}=_?a("web_nav_boards_entrypoint_2"):{},j=["enabled_profile","enabled_profile_no_tooltip","employees"].includes(P);return(0,C.jsx)(q,{...e,...p,headerButtonContext:s,headerShadowContext:l,i18n:t,isVerticalNavEnabled:_,location:i,navigate:n,profileNavigatesToProfile:j,requestContext:r,searchIconOnly:y,showPersonalBoutique:e.viewer.show_personal_boutique??!1,shrinkSearchBox:b,trackInteraction:h,userAccountsRetrieved:c})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/AuthDesktopHeader.it-564069a843046c7d.mjs.map